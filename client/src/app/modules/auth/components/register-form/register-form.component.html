<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">  
    <mat-form-field appearance="fill">
        <mat-label>Username</mat-label>
        <input matInput type="text" id="username" formControlName="username">

        <mat-error *ngIf="username?.invalid && (username?.dirty || username?.touched)">
            <span *ngIf="username?.errors?.['required']">Username is required.</span>
            <span *ngIf="username?.errors?.['minlength']">Username must be at least 4 characters long.</span>
            <span *ngIf="username?.errors?.['pattern']">Username may only contain alpha-numerical characters.</span>
            <span *ngIf="username?.errors?.['serverError']">{{ username?.errors?.serverError }}</span>
        </mat-error>
    </mat-form-field>
   

    <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput type="email" id="email" formControlName="email">

        <mat-error *ngIf="email?.invalid && (email?.dirty || email?.touched)">
            <span *ngIf="email?.errors?.['required']">Email is required.</span>
            <span *ngIf="email?.errors?.['email']">Must be a valid email address.</span>
            <span *ngIf="email?.errors?.['serverError']">{{ email?.errors?.serverError }}</span>
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Password</mat-label>
        <input matInput type='password' id="password" formControlName="password">

        <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">
            <span *ngIf="password?.errors?.['required']">Password is required.</span>
            <span *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters long.</span>
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Confirm password</mat-label>
        <input matInput type='password' id="confirm-password" formControlName="confirm-password">
        
        <mat-error *ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)">
            <span *ngIf="confirmPassword?.errors?.['differentPasswords']">Passwords don't match.</span>
        </mat-error>
    </mat-form-field>
    
    <button [disabled]="!registerForm.valid"
        mat-raised-button color="primary" type="submit">Register</button>  

    <div style="margin-top: 10px;">
        <a [routerLink]="'/login'">Already have an account? Log in here</a>
    </div>
</form>